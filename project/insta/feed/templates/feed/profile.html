{% extends 'feed/layout.html' %}
{% block title %}Perfil{% endblock %}
{% block content %}
<div class="d-flex align-items-center mb-4">
    <img src="{{ profile_user.profile.profile_picture.url }}" class="rounded-circle me-3" width="100" height="100">
    <div>
        <h3>{{ profile_user.username }}</h3>
        <p>{{ profile_user.profile.bio }}</p>
        <p>{{ profile_user.profile.get_followers_count }} seguidores | {{ profile_user.profile.get_following_count }} siguiendo</p>

        {% if user != profile_user %}
            <a href="{% url 'feed:follow_toggle' profile_user.username %}" class="btn btn-primary">
                {% if is_following %}Dejar de seguir{% else %}Seguir{% endif %}
            </a>
        {% else %}
            <a href="{% url 'feed:edit_profile' %}" class="btn btn-secondary">Editar Perfil</a>
        {% endif %}
    </div>
</div>

<hr>
<h4>Publicaciones</h4>
<div class="row">
    {% for post in posts %}
        <div class="col-md-4 mb-4">
            <a href="{% url 'feed:post_detail' post.pk %}">
                <img src="{{ post.image.url }}" class="img-fluid">
            </a>
        </div>
    {% empty %}
        <p>No hay publicaciones.</p>
    {% endfor %}
</div>
{% endblock %}
